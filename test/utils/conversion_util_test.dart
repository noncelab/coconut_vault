import 'dart:typed_data';

import 'package:coconut_vault/utils/conversion_util.dart';
import 'package:flutter_test/flutter_test.dart';

/// 검증법: 아래 출력된 hex를 cbor.me의 오른쪽 칸에 붙여넣기 한 후 Diagnostic notation으로 파싱 성공해야 함.
void main() {
  test('bytesToHex', () {
    /// 데이터: 넌척 - 멀티시그지갑 - export wallet config - QR code - BR-UR2 (legacy)
    final source = Uint8List.fromList([
      89,
      1,
      105,
      35,
      32,
      69,
      120,
      112,
      111,
      114,
      116,
      101,
      100,
      32,
      102,
      114,
      111,
      109,
      32,
      78,
      117,
      110,
      99,
      104,
      117,
      107,
      10,
      78,
      97,
      109,
      101,
      58,
      32,
      109,
      109,
      109,
      109,
      109,
      109,
      10,
      80,
      111,
      108,
      105,
      99,
      121,
      58,
      32,
      49,
      32,
      111,
      102,
      32,
      50,
      10,
      70,
      111,
      114,
      109,
      97,
      116,
      58,
      32,
      80,
      50,
      87,
      83,
      72,
      10,
      10,
      68,
      101,
      114,
      105,
      118,
      97,
      116,
      105,
      111,
      110,
      58,
      32,
      109,
      47,
      56,
      52,
      39,
      47,
      48,
      39,
      47,
      48,
      39,
      10,
      97,
      51,
      98,
      50,
      101,
      98,
      55,
      48,
      58,
      32,
      120,
      112,
      117,
      98,
      54,
      67,
      97,
      121,
      119,
      106,
      104,
      122,
      55,
      88,
      88,
      111,
      85,
      121,
      67,
      106,
      70,
      118,
      53,
      86,
      87,
      87,
      54,
      66,
      74,
      67,
      49,
      72,
      78,
      53,
      69,
      88,
      116,
      114,
      100,
      82,
      103,
      112,
      99,
      65,
      70,
      78,
      122,
      54,
      115,
      98,
      88,
      83,
      86,
      87,
      78,
      71,
      56,
      122,
      114,
      97,
      67,
      112,
      97,
      90,
      56,
      106,
      113,
      81,
      113,
      51,
      90,
      116,
      90,
      78,
      107,
      99,
      112,
      70,
      106,
      54,
      90,
      119,
      104,
      57,
      85,
      106,
      71,
      50,
      70,
      84,
      86,
      74,
      111,
      87,
      75,
      65,
      89,
      55,
      56,
      121,
      106,
      99,
      49,
      117,
      83,
      89,
      55,
      104,
      78,
      89,
      116,
      10,
      10,
      68,
      101,
      114,
      105,
      118,
      97,
      116,
      105,
      111,
      110,
      58,
      32,
      109,
      47,
      56,
      52,
      39,
      47,
      48,
      39,
      47,
      48,
      39,
      10,
      48,
      56,
      102,
      53,
      97,
      53,
      48,
      101,
      58,
      32,
      120,
      112,
      117,
      98,
      54,
      67,
      57,
      76,
      85,
      119,
      70,
      65,
      65,
      55,
      85,
      100,
      117,
      70,
      103,
      89,
      122,
      89,
      85,
      107,
      99,
      105,
      67,
      115,
      75,
      106,
      104,
      98,
      49,
      83,
      107,
      88,
      80,
      107,
      83,
      97,
      54,
      104,
      122,
      65,
      100,
      101,
      72,
      54,
      51,
      49,
      107,
      99,
      66,
      67,
      89,
      84,
      110,
      57,
      122,
      112,
      121,
      72,
      75,
      69,
      102,
      102,
      113,
      55,
      69,
      67,
      71,
      119,
      99,
      101,
      87,
      84,
      70,
      113,
      103,
      115,
      68,
      102,
      78,
      103,
      115,
      53,
      85,
      121,
      51,
      100,
      52,
      67,
      51,
      89,
      88,
      104,
      120,
      121,
      74,
      68,
      55,
      49,
      78,
      67,
      110,
      65,
      51,
      83,
      118,
      66,
      90,
      10,
      10
    ]);
    print(ConversionUtil.bytesToHex(source));
    print('length: ${source.length}');

    /// 데이터: 넌척 - 멀티시그지갑 - export wallet config - QR code - BR-UR2
    /// INFO: 지갑의 derivation path를 84'/0'/0'로 보여주고 있음, 48'/0'/0'/2가 표준이다...
    var source2 = Uint8List.fromList([
      217,
      1,
      145,
      217,
      1,
      151,
      162,
      1,
      1,
      2,
      130,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      3,
      77,
      41,
      4,
      105,
      19,
      198,
      176,
      56,
      49,
      27,
      111,
      206,
      211,
      39,
      168,
      226,
      217,
      80,
      74,
      130,
      81,
      11,
      187,
      146,
      249,
      218,
      250,
      29,
      229,
      152,
      228,
      102,
      4,
      88,
      32,
      116,
      150,
      60,
      98,
      144,
      164,
      198,
      197,
      189,
      102,
      6,
      36,
      50,
      186,
      105,
      75,
      232,
      240,
      82,
      132,
      182,
      68,
      81,
      171,
      60,
      247,
      172,
      171,
      199,
      49,
      83,
      73,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      163,
      178,
      235,
      112,
      3,
      3,
      8,
      26,
      127,
      43,
      107,
      120,
      9,
      105,
      110,
      111,
      110,
      99,
      101,
      108,
      97,
      98,
      49,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      2,
      159,
      149,
      130,
      56,
      2,
      234,
      233,
      81,
      106,
      27,
      67,
      22,
      147,
      13,
      192,
      3,
      52,
      114,
      81,
      37,
      47,
      138,
      155,
      35,
      252,
      20,
      103,
      236,
      92,
      174,
      132,
      248,
      4,
      88,
      32,
      52,
      57,
      214,
      31,
      72,
      203,
      75,
      38,
      165,
      11,
      230,
      75,
      253,
      87,
      154,
      78,
      112,
      74,
      144,
      63,
      241,
      3,
      252,
      51,
      168,
      247,
      25,
      203,
      40,
      18,
      198,
      152,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      8,
      245,
      165,
      14,
      3,
      3,
      8,
      26,
      67,
      3,
      6,
      127,
      9,
      102,
      104,
      105,
      100,
      100,
      101,
      110
    ]);
    print(ConversionUtil.bytesToHex(source2));

    var source3 = Uint8List.fromList([
      217,
      1,
      145,
      217,
      1,
      151,
      162,
      1,
      2,
      2,
      130,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      3,
      158,
      140,
      117,
      69,
      48,
      31,
      172,
      144,
      195,
      233,
      109,
      89,
      134,
      157,
      70,
      228,
      39,
      151,
      193,
      8,
      212,
      169,
      122,
      231,
      66,
      61,
      0,
      111,
      166,
      109,
      198,
      121,
      4,
      88,
      32,
      97,
      169,
      134,
      13,
      88,
      214,
      200,
      25,
      102,
      207,
      21,
      189,
      249,
      83,
      22,
      111,
      64,
      152,
      151,
      251,
      165,
      76,
      45,
      108,
      65,
      243,
      73,
      149,
      136,
      32,
      0,
      246,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      160,
      246,
      186,
      0,
      3,
      3,
      8,
      26,
      48,
      143,
      176,
      44,
      9,
      107,
      110,
      111,
      110,
      99,
      101,
      108,
      97,
      98,
      50,
      50,
      50,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      3,
      254,
      242,
      23,
      180,
      76,
      235,
      62,
      61,
      159,
      144,
      44,
      0,
      251,
      6,
      200,
      99,
      143,
      170,
      240,
      31,
      118,
      255,
      239,
      189,
      90,
      6,
      33,
      52,
      186,
      91,
      79,
      181,
      4,
      88,
      32,
      241,
      97,
      101,
      222,
      18,
      156,
      161,
      223,
      57,
      226,
      25,
      252,
      39,
      99,
      145,
      22,
      3,
      145,
      10,
      32,
      173,
      124,
      197,
      168,
      56,
      51,
      192,
      233,
      187,
      111,
      38,
      90,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      242,
      166,
      82,
      84,
      3,
      3,
      8,
      26,
      244,
      130,
      31,
      10,
      9,
      97,
      65
    ]);
    print(ConversionUtil.bytesToHex(source3));
    print('length: ${source3.length}');

    var source4 = Uint8List.fromList([
      217,
      1,
      145,
      217,
      1,
      151,
      162,
      1,
      1,
      2,
      130,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      3,
      77,
      41,
      4,
      105,
      19,
      198,
      176,
      56,
      49,
      27,
      111,
      206,
      211,
      39,
      168,
      226,
      217,
      80,
      74,
      130,
      81,
      11,
      187,
      146,
      249,
      218,
      250,
      29,
      229,
      152,
      228,
      102,
      4,
      88,
      32,
      116,
      150,
      60,
      98,
      144,
      164,
      198,
      197,
      189,
      102,
      6,
      36,
      50,
      186,
      105,
      75,
      232,
      240,
      82,
      132,
      182,
      68,
      81,
      171,
      60,
      247,
      172,
      171,
      199,
      49,
      83,
      73,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      163,
      178,
      235,
      112,
      3,
      3,
      8,
      26,
      127,
      43,
      107,
      120,
      9,
      105,
      110,
      111,
      110,
      99,
      101,
      108,
      97,
      98,
      49,
      217,
      1,
      47,
      167,
      2,
      244,
      3,
      88,
      33,
      2,
      159,
      149,
      130,
      56,
      2,
      234,
      233,
      81,
      106,
      27,
      67,
      22,
      147,
      13,
      192,
      3,
      52,
      114,
      81,
      37,
      47,
      138,
      155,
      35,
      252,
      20,
      103,
      236,
      92,
      174,
      132,
      248,
      4,
      88,
      32,
      52,
      57,
      214,
      31,
      72,
      203,
      75,
      38,
      165,
      11,
      230,
      75,
      253,
      87,
      154,
      78,
      112,
      74,
      144,
      63,
      241,
      3,
      252,
      51,
      168,
      247,
      25,
      203,
      40,
      18,
      198,
      152,
      5,
      217,
      1,
      49,
      162,
      1,
      0,
      2,
      0,
      6,
      217,
      1,
      48,
      163,
      1,
      134,
      24,
      84,
      245,
      0,
      245,
      0,
      245,
      2,
      26,
      8,
      245,
      165,
      14,
      3,
      3,
      8,
      26,
      67,
      3,
      6,
      127,
      9,
      102,
      104,
      105,
      100,
      100,
      101,
      110
    ]);
    print(ConversionUtil.bytesToHex(source4));
    print('length: ${source4.length}');
  });
}
